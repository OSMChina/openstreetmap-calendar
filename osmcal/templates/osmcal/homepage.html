{% extends "base.html" %}

{% block content %}
	<!--
		TODO: Group by months
	{% regroup events by start.month as event_groups %}

	{% for g in event_groups %}
		{{ g.grouper }}
	{% endfor %}
 	-->
 	<div class="event-filter-controls">
 		<select class="event-filter-selector">
 			<option>Anywhere</option>
 			<option>Nearby</option>
 			<option>Europe</option>
 			<option>North America</option>
 		</select>
 	</div>

	<ul class="event-list">
	{% for event in events %}
		<li class="event-list-entry"><a href="/event/{{ event.id }}/" class="event-list-entry-box">
			<div class="event-entry-main">
				<p class="event-entry-name">{{ event.name }}</p>
				{% if event.location_text %}<p class="event-entry-location">{{ event.location_text }}</p>{% endif %}
			</div>
			<span class="event-entry-date">
			{% if event.start.day == event.end.day or not event.end %}
				{{ event.start|date:"jS F" }}
			{% elif event.start.month == event.end.month  %}
				{{ event.start|date:"jS"}}-{{ event.end|date:"jS F" }}
			{% else %}
				{{ event.start|date:"jS F"}}-{{ event.end|date:"jS F" }}
			{% endif %}
			</span>
		</a></li>
	{% endfor %}
	</ul>
{% endblock %}
